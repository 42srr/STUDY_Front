# 39장 DOM

- DOM은 HTML 문서의 계층적 구조와 정보를 표현하며, 이를 제어할 수 있는 API인 프로퍼티와 메서드를 제공하는 트리 자료구조

## 39.1 노드

### 39.1.1 HTML 요소와 노드 객체

- HTML 요소는 HTML 문서를 구성하는 개별요소를 의미
- 파싱되어 DOM을 구성하는 노드 객체로 변환됨
- 어트리뷰트는 어트리뷰트 노드로, 텍스트 콘텐츠는 텍스트 노드로 변환됨
- HTML 문서는 HTML 요소들의 집합으로 이루어지며 중첩 관계를 가짐
- HTML 요소 간에는 중첩 관계에 의한 계층적인 부자 관계가 형성됨
- 트리 자료구조
  - 노드들의 계층 구조로 이루어짐
  - 부모 노드와 자식 노드로 구성되는 비선형 자료구조
  - 노드 객체들로 구성된 트리 자료구조를 DOM이라함

### 39.1.2 노드 객체의 타입

- 노드 객체는 종류가 있고 상속 구조를 가짐

### 39.1.3 노드 객체의 상속 구조

- DOM을 구성하는 노드 객체는 자신의 구조와 정보를 제어할 수 있는 DOM API를 사용할 수 있음

### 39.2 요소 노드 취득

- HTML의 구조나 내용 또는 스타일 등을 조작하려면 요소 노드를 취득해야 함

### 39.2.1 id를 이용한 요소 노드 취득

- id 값은 하나만 가질 수 있음
- 동일한 id 값을 가진 요소가 여럿 존재할 수 있음

### 39.2.2 태그 이름을 이용한 요소 노드 취득

### 39.2.3 class를 이용한 요소 노드 취득

- 하나의 요소에 여러개의 클래스 값 존재 가능

### 39.2.4 CSS 선택자를 이용한 요소 노드 취득

- CSS 선택자는 스타일을 적용하고자 하는 HTML 요소를 특정할때 사용

### 39.2.5 특정 요소 노드를 취득할 수 있는지 확인

- Element.prototype.matches 메서드는 인수로 전달한 CSS 선택자를 통해 특정 요소 노드를 취득할 수 있는지 확인

### 39.2.6 HTMLCollection과 NodeList

- HTMLCollection과 NodeList는 DOM API가 여러 개의 결과값을 반환하기 위한 DOM 컬렉션 객체
- HTML Collection
  - 노드 객체의 상태변화를 실시간으로 반영하는 살아있는 DOM 컬렉션 객체
- NodeList
  - 실시간으로 노드 객체의 상태 변경을 반영하지 않는 객체

## 39.3 노드 탐색

- 요소 노드 취득 후 DOM 트리의 노드를 옮겨다니며 탐색

### 39.3.1 공백 텍스트 노드

- whitespace 문자는 공백 텍스트 노드를 생성함

### 39.3.2 자식 노드 탐색

- 노드 탐색 프로퍼티 사용

### 39.3.3 자식 노드 존재 확인

- Node.prototype.hasChildNodes 메서드 사용

### 39.3.4 요소 노드의 텍스트 노드 탐색

- 요소 노드의 텍스트 노드는 요소 노드의 자식 노드임

### 39.3.5 부모 노드 탐색

- Node.prototype.parentNode 프로퍼티 사용

### 39.3.6 형제 노드 탐색

## 39.4 노드 정보 취득

## 39.5 요소 노드의 텍스트 조작

### 39.5.1 nodeValue

- setter와 getter가 모두 존재하는 접근자 프로퍼티
- 참조시 텍스트 노드의 텍스트를 반환함

### 39.5.2 textContent

- setter, getter 모두 존재
- 요소 노드의 텍스트와 모든 자손 노드의 텍스트를 모두 취득하거나 변경

## 39.6 DOM 조작

- 새로운 노드를 생성하여 DOM에 추가하거나 기존 노드를 삭제, 교체하는 것

### 39.6.1 innerHTML

- setter, getter 모두 존재하는 접근자 프로퍼티
- 요소 노드의 HTML 마크업을 취득하거나 변경
- 크로스 사이트 스크립팅 공격의 빈틈이 될 수 있으므로 주의

### 39.6.2 insertAdjacentHTML 메서드

- 기존 요소를 제거하지 않으면서 위치를 지정해 새로운 요소를 삽입

### 39.6.3 노드 생성과 추가

- DOM은 노드를 직접 생성/삽입/삭제/치환하는 메서드를 제공함
- 요소 노드 생성
  - createElement 메서드 사용
- 텍스트 노드 생성
  - createTextNode 메서드 사용
- 텍스트 노드를 요소 노드의 자식 노드로 추가
  - appendChild 메서드 사용
- 요소 노드를 DOM에 추가
  - appendChild 메서드 사용

### 39.6.4 복수의 노드 생성과 추가

### 39.6.5 노드 삽입

- 마지막 노드로 추가
  - appendChild 메서드는 인수로 전달받은 노드를 마지막 자식 노드로 DOM에 추가
- 지정한 위치에 노드 삽입
  - insertBefore 메서드는 첫 번째 인수로 전달받은 노드를 두 번째 인수로 전달받은 노드 앞에 삽입

### 39.6.6 노드 이동

- DOM에 이미 존재하는 노드를 appendChild 또는 insertBefore 메서드로 DOM에 다시 추가하면 현재 위치에서 노드를 제거하고 새로운 위치에 노드 추가

### 39.6.7 노드 복사

- cloneNode 메서드는 노드의 사본을 생성하여 반환

### 39.6.8 노드 교체

- replaceChild 메서드는 자신을 호출한 노드의 자식 노드를 다른 노드로 교체

### 39.6.9 노드 삭제

- removeChild 메서드는 child 매개변수에 인수로 전달한 노드를 DOM에서 삭제

## 39.7 어트리뷰트

### 39.7.1 어트리뷰트 노드와 attributes 프로퍼티

- HTML 요소는 여러 개의 어트리뷰트를 가질 수 있음

### 39.7.2 HTML 어트리뷰트 조작

### 39.7.3 HTML 어트리뷰트 vs. DOM 프로퍼티

- HTML 어트리뷰트는 HTML 요소의 초기 상태를 지정하는 것
- 요소노드의 최신상태는 DOM 프로퍼티가 관리함
- 어트리뷰트 노드
  HTML 어트리뷰트로 지정한 HTML 요소의 초기 상태는 어트리뷰트 노드에서 관리
- DOM 프로퍼티
  사용자가 입력한 최신 상태는 HTML 어트리뷰트에 대응하는 요소 노드의 DOM 프로퍼티가 관리
- HTML 어트리뷰트와 DOM 프로퍼티의 대응 관계
  HTML 어트리뷰트와 DOM 어트리뷰트가 언제나 1:1로 대응하는건 아님
- DOM 프로퍼티 값의 타입
  getAttribute 메서드로 취득한 어트리뷰트 값은 언제나 문자열
  DOM 프로퍼티로 취득한 최신 상태 값은 문자열이 아닐 수도 있음

### 39.7.4 data 어트리뷰트와 dataset 프로퍼티

- HTML 요소에 정의한 사용자 정의 어트리뷰트와 JS 간에 데이터 교환 가능

## 39.8 스타일

### 39.8.1 인라인 스타일 조작

- style 프로퍼티는 인라인 스타일을 취득하거나 추가, 변경 할 수 있음

### 39.8.2 클래스 조작

- .으로 시작하는 클래스 선택자를 이용해 CSS class 미리 정의 가능
- className
  - HTML 요소의 class 어트리뷰트 값을 취득하거나 변경함
- classList
  - class 어트리뷰트의 정보를 담은 DOMTokenList 객체를 반환

### 39.8.3 요소에 적용되어 있는 CSS 스타일 참조

- getComputedStyle 메서드 사용시 HTML 요소에 적용된 모든 CSS 스타일 참조 가능

## 39.9 DOM 표준
